<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Bar</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .booklib-book-form {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 500px;
            background-color: white;
            padding: 20px;
            border: 2px solid #000;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="hamburger-menu" onclick="toggleSidebar()">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
    </div>
    <div class="sidebar">
        <div class="logo">
            <img src="images/logo.png" alt="Logo">
        </div>
        <a href="profile.html" class="sidebar-item">
            <img src="https://img.icons8.com/ios-filled/24/ffffff/user.png" alt="Profile Icon">
            <span>Profile</span>
        </a>
        <a href="home.html" class="sidebar-item">
            <img src="https://img.icons8.com/ios-filled/24/ffffff/home.png" alt="Home Icon">
            <span>Home</span>
        </a>
        <a href="library.html" class="sidebar-item">
            <img src="https://img.icons8.com/ios-filled/24/ffffff/book.png" alt="My Library Icon">
            <span>My Library</span>
        </a>
        <a href="cart.html" class="sidebar-item">
            <img src="https://img.icons8.com/ios-filled/24/ffffff/shopping-cart.png" alt="My Cart Icon">
            <span>My Cart</span>
        </a>
        <div class="sidebar-item discover">
            <img src="https://img.icons8.com/ios-filled/24/ffffff/search.png" alt="Discover Icon">
            <span>Discover</span>
            <div class="dropdown-content">
                <a href="events.html"><img src="https://img.icons8.com/ios-filled/16/ffffff/calendar.png" alt="Events Icon">Events</a>
                <a href="facility.html"><img src="https://img.icons8.com/ios-filled/16/ffffff/building.png" alt="Facility Icon">Facility</a>
                <a href="contact.html"><img src="https://img.icons8.com/ios-filled/16/ffffff/contacts.png" alt="Contact Icon">Contact</a>
            </div>
        </div>
        <a href="ask.html" class="sidebar-item ask">
            <img src="https://img.icons8.com/ios-filled/24/ffffff/communication.png" alt="Ask Icon">
            <span>Ask</span>
        </a>
    </div>
    <div class="booklib-content">
        <div class="booklib-header">
            <div class="booklib-search-container">
                <button class="booklib-all-books-button">All Books</button>
                <input type="text" class="booklib-search-input" placeholder="Search in My Library...">
                <button class="booklib-search-button"><i class="fas fa-search"></i></button>
            </div>
        </div>
        <div class="booklib-books-grid" id="booksGrid">
            <div class="booklib-book add-book" onclick="openForm()">
                <p>Add book</p>
                <button>+</button>
            </div>
            <!-- Fixed books from HTML -->
            <div class="booklib-book fixed">
                <img src="images/book3.jpeg" alt="The Chemistry of Passion Lab">
                <p>The Chemistry of Passion Lab</p>
            </div>
            <div class="booklib-book fixed">
                <img src="images/book4.jpeg" alt="Harry Potter">
                <p>Harry Potter</p>
            </div>
            <div class="booklib-book fixed">
                <img src="images/book1.jpeg" alt="YELLOWFACE">
                <p>YELLOWFACE</p>
            </div>
            <div class="booklib-book fixed">
                <img src="images/book2.jpeg" alt="Maybe Now">
                <p>Maybe Now</p>
            </div>
            <div class="booklib-book fixed">
                <img src="images/cover7.jpeg" alt="ANITA NAIR">
                <p>ANITA NAIR</p>
            </div>
            <div class="booklib-book fixed">
                <img src="images/cover5.jpeg" alt="The Five Dollar Smile">
                <p>The Five Dollar Smile</p>
            </div>
            <div class="booklib-book fixed">
                <img src="images/cover3.jpeg" alt="Rest In Chaos">
                <p>Rest In Chaos</p>
            </div>
        </div>
        <a href="meeting.html"><button class="booklib-meeting-room-button">Meeting Room</button></a>
    </div>
    <div id="booklibForm" class="booklib-book-form">
        <div class="booklib-form-header">
            <input type="text" placeholder="Search For a Book">
            <i class="fas fa-search"></i>
            <i class="fas fa-microphone"></i>
        </div>
        <div class="booklib-form-body">
            <div class="booklib-form-row">
                <div class="booklib-form-group">
                    <label>Book Title</label>
                    <input type="text" placeholder="Book Title">
                </div>
                <div class="booklib-form-group">
                    <label>Author Name</label>
                    <input type="text" placeholder="Author Name">
                </div>
            </div>
            <div class="booklib-form-row">
                <div class="booklib-form-group">
                    <label>ISBN</label>
                    <input type="text" placeholder="ISBN">
                </div>
                <div class="booklib-form-group">
                    <label>Publish Date</label>
                    <div class="booklib-date-container">
                        <input type="date" placeholder="Date / Month / Year">
                    </div>
                </div>
            </div>
            <div class="booklib-form-group">
                <label>Attachment</label>
                <div class="booklib-attachment">
                    <input type="file" id="booklib-attachment-input" style="display: none;">
                    <input type="text" id="booklib-attachment-text" readonly>
                    <i class="fas fa-paperclip" onclick="document.getElementById('booklib-attachment-input').click();"></i>
                </div>
            </div>
            <div class="booklib-form-group">
                <label>Summary</label>
                <textarea></textarea>
            </div>
        </div>
        <div class="booklib-form-footer">
            <button class="booklib-back-button" onclick="closeForm()">Back</button>
            <button class="booklib-publish-button">Publish</button>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const initialBooks = [
                { title: 'The Chemistry of Passion Lab', author: 'Author 1', isbn: '1234567890', publishDate: '2020-01-01', attachment: 'images/book3.jpeg', summary: 'Summary 1' },
                { title: 'Harry Potter', author: 'Author 2', isbn: '0987654321', publishDate: '2019-01-01', attachment: 'images/book4.jpeg', summary: 'Summary 2' },
                { title: 'YELLOWFACE', author: 'Author 3', isbn: '1122334455', publishDate: '2018-01-01', attachment: 'images/book1.jpeg', summary: 'Summary 3' },
                { title: 'Maybe Now', author: 'Author 4', isbn: '2233445566', publishDate: '2017-01-01', attachment: 'images/book2.jpeg', summary: 'Summary 4' },
                { title: 'ANITA NAIR', author: 'Author 5', isbn: '3344556677', publishDate: '2016-01-01', attachment: 'images/cover7.jpeg', summary: 'Summary 5' },
                { title: 'The Five Dollar Smile', author: 'Author 6', isbn: '4455667788', publishDate: '2015-01-01', attachment: 'images/cover5.jpeg', summary: 'Summary 6' },
                { title: 'Rest In Chaos', author: 'Author 7', isbn: '5566778899', publishDate: '2014-01-01', attachment: 'images/cover3.jpeg', summary: 'Summary 7' }
            ];
        
            // Retrieve books from local storage
            let storedBooks = JSON.parse(localStorage.getItem('books')) || [];
            
            // Combine initial books and stored books without duplicates
            const combinedBooks = [...initialBooks, ...storedBooks.filter(storedBook => !initialBooks.some(initialBook => initialBook.title === storedBook.title))];
        
            function openForm() {
                document.getElementById('booklibForm').style.display = 'flex';
            }
        
            function closeForm() {
                document.getElementById('booklibForm').style.display = 'none';
            }
        
            function addBook(title, author, isbn, publishDate, attachment, summary) {
                const book = { title, author, isbn, publishDate, attachment, summary };
        
                combinedBooks.push(book);
                localStorage.setItem('books', JSON.stringify(combinedBooks));
                displayBooks();
                closeForm();
            }
        
            function displayBooks() {
                const booksGrid = document.getElementById('booksGrid');
                booksGrid.innerHTML = `
                    <div class="booklib-book add-book" onclick="openForm()">
                        <p>Add book</p>
                        <button>+</button>
                    </div>
                `;
                combinedBooks.forEach(book => {
                    const bookElement = document.createElement('div');
                    bookElement.classList.add('booklib-book');
                    bookElement.innerHTML = `
                        <img src="${book.attachment}" alt="${book.title}">
                        <p>${book.title}</p>
                    `;
                    booksGrid.appendChild(bookElement);
                });
            }
        
            document.getElementById('booklib-attachment-input').addEventListener('change', function() {
                const fileName = this.files[0].name;
                document.getElementById('booklib-attachment-text').value = fileName;
            });
        
            document.querySelector('.booklib-publish-button').addEventListener('click', () => {
                const title = document.querySelector('.booklib-form-body input[placeholder="Book Title"]').value;
                const author = document.querySelector('.booklib-form-body input[placeholder="Author Name"]').value;
                const isbn = document.querySelector('.booklib-form-body input[placeholder="ISBN"]').value;
                const publishDate = document.querySelector('.booklib-form-body input[type="date"]').value;
                const attachment = document.getElementById('booklib-attachment-text').value;
                const summary = document.querySelector('.booklib-form-body textarea').value;
        
                if (!title || !author || !isbn || !publishDate || !attachment || !summary) {
                    alert('Please fill out all fields.');
                    return;
                }
        
                addBook(title, author, isbn, publishDate, attachment, summary);
            });
        
            window.openForm = openForm;
            window.closeForm = closeForm;
            displayBooks();
        });
        
        function toggleSidebar() {
            const sidebar = document.querySelector('.sidebar');
            sidebar.classList.toggle('open');
        }
        
        window.toggleSidebar = toggleSidebar;
        
    </script>
</body>
</html>
